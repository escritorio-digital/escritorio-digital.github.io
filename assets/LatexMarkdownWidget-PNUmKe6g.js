import{c as ue,u as de,r as m,s as fe,j as d,p as me,F as he,V as ge,g as U}from"./index-KG3SMhAr.js";import{a2 as $t}from"./index-KG3SMhAr.js";import{d as we}from"./marked.esm-IrHqQMcX.js";import{k as M}from"./katex.min-2TduxwG8.js";import{r as pe,s as ye,d as xe}from"./saveDialog-8qwY7KmM.js";import{r as be}from"./openDialog-H-OCpcqq.js";import{S as Se}from"./save-CAxeKvxV.js";/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ee=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]],Ce=ue("clipboard",Ee);function ke(e,t){if(e.match(/^[a-z]+:\/\//i))return e;if(e.match(/^\/\//))return window.location.protocol+e;if(e.match(/^[a-z]+:/i))return e;const n=document.implementation.createHTMLDocument(),r=n.createElement("base"),a=n.createElement("a");return n.head.appendChild(r),n.body.appendChild(a),t&&(r.href=t),a.href=e,a.href}const ve=(()=>{let e=0;const t=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(e+=1,`u${t()}${e}`)})();function b(e){const t=[];for(let n=0,r=e.length;n<r;n++)t.push(e[n]);return t}let C=null;function K(e={}){return C||(e.includeStyleProperties?(C=e.includeStyleProperties,C):(C=b(window.getComputedStyle(document.documentElement)),C))}function $(e,t){const r=(e.ownerDocument.defaultView||window).getComputedStyle(e).getPropertyValue(t);return r?parseFloat(r.replace("px","")):0}function Re(e){const t=$(e,"border-left-width"),n=$(e,"border-right-width");return e.clientWidth+t+n}function $e(e){const t=$(e,"border-top-width"),n=$(e,"border-bottom-width");return e.clientHeight+t+n}function Q(e,t={}){const n=t.width||Re(e),r=t.height||$e(e);return{width:n,height:r}}function Te(){let e,t;try{t=process}catch{}const n=t&&t.env?t.env.devicePixelRatio:null;return n&&(e=parseInt(n,10),Number.isNaN(e)&&(e=1)),e||window.devicePixelRatio||1}const p=16384;function _e(e){(e.width>p||e.height>p)&&(e.width>p&&e.height>p?e.width>e.height?(e.height*=p/e.width,e.width=p):(e.width*=p/e.height,e.height=p):e.width>p?(e.height*=p/e.width,e.width=p):(e.width*=p/e.height,e.height=p))}function T(e){return new Promise((t,n)=>{const r=new Image;r.onload=()=>{r.decode().then(()=>{requestAnimationFrame(()=>t(r))})},r.onerror=n,r.crossOrigin="anonymous",r.decoding="async",r.src=e})}async function Le(e){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(e)).then(encodeURIComponent).then(t=>`data:image/svg+xml;charset=utf-8,${t}`)}async function Fe(e,t,n){const r="http://www.w3.org/2000/svg",a=document.createElementNS(r,"svg"),s=document.createElementNS(r,"foreignObject");return a.setAttribute("width",`${t}`),a.setAttribute("height",`${n}`),a.setAttribute("viewBox",`0 0 ${t} ${n}`),s.setAttribute("width","100%"),s.setAttribute("height","100%"),s.setAttribute("x","0"),s.setAttribute("y","0"),s.setAttribute("externalResourcesRequired","true"),a.appendChild(s),s.appendChild(e),Le(a)}const w=(e,t)=>{if(e instanceof t)return!0;const n=Object.getPrototypeOf(e);return n===null?!1:n.constructor.name===t.name||w(n,t)};function Ie(e){const t=e.getPropertyValue("content");return`${e.cssText} content: '${t.replace(/'|"/g,"")}';`}function Pe(e,t){return K(t).map(n=>{const r=e.getPropertyValue(n),a=e.getPropertyPriority(n);return`${n}: ${r}${a?" !important":""};`}).join(" ")}function Me(e,t,n,r){const a=`.${e}:${t}`,s=n.cssText?Ie(n):Pe(n,r);return document.createTextNode(`${a}{${s}}`)}function V(e,t,n,r){const a=window.getComputedStyle(e,n),s=a.getPropertyValue("content");if(s===""||s==="none")return;const i=ve();try{t.className=`${t.className} ${i}`}catch{return}const o=document.createElement("style");o.appendChild(Me(i,n,a,r)),t.appendChild(o)}function je(e,t,n){V(e,t,":before",n),V(e,t,":after",n)}const W="application/font-woff",q="image/jpeg",Ae={woff:W,woff2:W,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:q,jpeg:q,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function He(e){const t=/\.([^./]*?)$/g.exec(e);return t?t[1]:""}function H(e){const t=He(e).toLowerCase();return Ae[t]||""}function Oe(e){return e.split(/,/)[1]}function A(e){return e.search(/^(data:)/)!==-1}function De(e,t){return`data:${t};base64,${e}`}async function Y(e,t,n){const r=await fetch(e,t);if(r.status===404)throw new Error(`Resource "${r.url}" not found`);const a=await r.blob();return new Promise((s,i)=>{const o=new FileReader;o.onerror=i,o.onloadend=()=>{try{s(n({res:r,result:o.result}))}catch(c){i(c)}},o.readAsDataURL(a)})}const j={};function Ue(e,t,n){let r=e.replace(/\?.*/,"");return n&&(r=e),/ttf|otf|eot|woff2?/i.test(r)&&(r=r.replace(/.*\//,"")),t?`[${t}]${r}`:r}async function O(e,t,n){const r=Ue(e,t,n.includeQueryParams);if(j[r]!=null)return j[r];n.cacheBust&&(e+=(/\?/.test(e)?"&":"?")+new Date().getTime());let a;try{const s=await Y(e,n.fetchRequestInit,({res:i,result:o})=>(t||(t=i.headers.get("Content-Type")||""),Oe(o)));a=De(s,t)}catch(s){a=n.imagePlaceholder||"";let i=`Failed to fetch resource: ${e}`;s&&(i=typeof s=="string"?s:s.message),i&&console.warn(i)}return j[r]=a,a}async function Ve(e){const t=e.toDataURL();return t==="data:,"?e.cloneNode(!1):T(t)}async function We(e,t){if(e.currentSrc){const s=document.createElement("canvas"),i=s.getContext("2d");s.width=e.clientWidth,s.height=e.clientHeight,i?.drawImage(e,0,0,s.width,s.height);const o=s.toDataURL();return T(o)}const n=e.poster,r=H(n),a=await O(n,r,t);return T(a)}async function qe(e,t){var n;try{if(!((n=e?.contentDocument)===null||n===void 0)&&n.body)return await _(e.contentDocument.body,t,!0)}catch{}return e.cloneNode(!1)}async function ze(e,t){return w(e,HTMLCanvasElement)?Ve(e):w(e,HTMLVideoElement)?We(e,t):w(e,HTMLIFrameElement)?qe(e,t):e.cloneNode(Z(e))}const Be=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SLOT",Z=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SVG";async function Ge(e,t,n){var r,a;if(Z(t))return t;let s=[];return Be(e)&&e.assignedNodes?s=b(e.assignedNodes()):w(e,HTMLIFrameElement)&&(!((r=e.contentDocument)===null||r===void 0)&&r.body)?s=b(e.contentDocument.body.childNodes):s=b(((a=e.shadowRoot)!==null&&a!==void 0?a:e).childNodes),s.length===0||w(e,HTMLVideoElement)||await s.reduce((i,o)=>i.then(()=>_(o,n)).then(c=>{c&&t.appendChild(c)}),Promise.resolve()),t}function Je(e,t,n){const r=t.style;if(!r)return;const a=window.getComputedStyle(e);a.cssText?(r.cssText=a.cssText,r.transformOrigin=a.transformOrigin):K(n).forEach(s=>{let i=a.getPropertyValue(s);s==="font-size"&&i.endsWith("px")&&(i=`${Math.floor(parseFloat(i.substring(0,i.length-2)))-.1}px`),w(e,HTMLIFrameElement)&&s==="display"&&i==="inline"&&(i="block"),s==="d"&&t.getAttribute("d")&&(i=`path(${t.getAttribute("d")})`),r.setProperty(s,i,a.getPropertyPriority(s))})}function Xe(e,t){w(e,HTMLTextAreaElement)&&(t.innerHTML=e.value),w(e,HTMLInputElement)&&t.setAttribute("value",e.value)}function Ke(e,t){if(w(e,HTMLSelectElement)){const n=t,r=Array.from(n.children).find(a=>e.value===a.getAttribute("value"));r&&r.setAttribute("selected","")}}function Qe(e,t,n){return w(t,Element)&&(Je(e,t,n),je(e,t,n),Xe(e,t),Ke(e,t)),t}async function Ye(e,t){const n=e.querySelectorAll?e.querySelectorAll("use"):[];if(n.length===0)return e;const r={};for(let s=0;s<n.length;s++){const o=n[s].getAttribute("xlink:href");if(o){const c=e.querySelector(o),h=document.querySelector(o);!c&&h&&!r[o]&&(r[o]=await _(h,t,!0))}}const a=Object.values(r);if(a.length){const s="http://www.w3.org/1999/xhtml",i=document.createElementNS(s,"svg");i.setAttribute("xmlns",s),i.style.position="absolute",i.style.width="0",i.style.height="0",i.style.overflow="hidden",i.style.display="none";const o=document.createElementNS(s,"defs");i.appendChild(o);for(let c=0;c<a.length;c++)o.appendChild(a[c]);e.appendChild(i)}return e}async function _(e,t,n){return!n&&t.filter&&!t.filter(e)?null:Promise.resolve(e).then(r=>ze(r,t)).then(r=>Ge(e,r,t)).then(r=>Qe(e,r,t)).then(r=>Ye(r,t))}const N=/url\((['"]?)([^'"]+?)\1\)/g,Ze=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,Ne=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function et(e){const t=e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${t})(['"]?\\))`,"g")}function tt(e){const t=[];return e.replace(N,(n,r,a)=>(t.push(a),n)),t.filter(n=>!A(n))}async function nt(e,t,n,r,a){try{const s=n?ke(t,n):t,i=H(t);let o;return a||(o=await O(s,i,r)),e.replace(et(t),`$1${o}$3`)}catch{}return e}function rt(e,{preferredFontFormat:t}){return t?e.replace(Ne,n=>{for(;;){const[r,,a]=Ze.exec(n)||[];if(!a)return"";if(a===t)return`src: ${r};`}}):e}function ee(e){return e.search(N)!==-1}async function te(e,t,n){if(!ee(e))return e;const r=rt(e,n);return tt(r).reduce((s,i)=>s.then(o=>nt(o,i,t,n)),Promise.resolve(r))}async function k(e,t,n){var r;const a=(r=t.style)===null||r===void 0?void 0:r.getPropertyValue(e);if(a){const s=await te(a,null,n);return t.style.setProperty(e,s,t.style.getPropertyPriority(e)),!0}return!1}async function st(e,t){await k("background",e,t)||await k("background-image",e,t),await k("mask",e,t)||await k("-webkit-mask",e,t)||await k("mask-image",e,t)||await k("-webkit-mask-image",e,t)}async function at(e,t){const n=w(e,HTMLImageElement);if(!(n&&!A(e.src))&&!(w(e,SVGImageElement)&&!A(e.href.baseVal)))return;const r=n?e.src:e.href.baseVal,a=await O(r,H(r),t);await new Promise((s,i)=>{e.onload=s,e.onerror=t.onImageErrorHandler?(...c)=>{try{s(t.onImageErrorHandler(...c))}catch(h){i(h)}}:i;const o=e;o.decode&&(o.decode=s),o.loading==="lazy"&&(o.loading="eager"),n?(e.srcset="",e.src=a):e.href.baseVal=a})}async function it(e,t){const r=b(e.childNodes).map(a=>ne(a,t));await Promise.all(r).then(()=>e)}async function ne(e,t){w(e,Element)&&(await st(e,t),await at(e,t),await it(e,t))}function ot(e,t){const{style:n}=e;t.backgroundColor&&(n.backgroundColor=t.backgroundColor),t.width&&(n.width=`${t.width}px`),t.height&&(n.height=`${t.height}px`);const r=t.style;return r!=null&&Object.keys(r).forEach(a=>{n[a]=r[a]}),e}const z={};async function B(e){let t=z[e];if(t!=null)return t;const r=await(await fetch(e)).text();return t={url:e,cssText:r},z[e]=t,t}async function G(e,t){let n=e.cssText;const r=/url\(["']?([^"')]+)["']?\)/g,s=(n.match(/url\([^)]+\)/g)||[]).map(async i=>{let o=i.replace(r,"$1");return o.startsWith("https://")||(o=new URL(o,e.url).href),Y(o,t.fetchRequestInit,({result:c})=>(n=n.replace(i,`url(${c})`),[i,c]))});return Promise.all(s).then(()=>n)}function J(e){if(e==null)return[];const t=[],n=/(\/\*[\s\S]*?\*\/)/gi;let r=e.replace(n,"");const a=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const c=a.exec(r);if(c===null)break;t.push(c[0])}r=r.replace(a,"");const s=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,i="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",o=new RegExp(i,"gi");for(;;){let c=s.exec(r);if(c===null){if(c=o.exec(r),c===null)break;s.lastIndex=o.lastIndex}else o.lastIndex=s.lastIndex;t.push(c[0])}return t}async function ct(e,t){const n=[],r=[];return e.forEach(a=>{if("cssRules"in a)try{b(a.cssRules||[]).forEach((s,i)=>{if(s.type===CSSRule.IMPORT_RULE){let o=i+1;const c=s.href,h=B(c).then(y=>G(y,t)).then(y=>J(y).forEach(E=>{try{a.insertRule(E,E.startsWith("@import")?o+=1:a.cssRules.length)}catch(S){console.error("Error inserting rule from remote css",{rule:E,error:S})}})).catch(y=>{console.error("Error loading remote css",y.toString())});r.push(h)}})}catch(s){const i=e.find(o=>o.href==null)||document.styleSheets[0];a.href!=null&&r.push(B(a.href).then(o=>G(o,t)).then(o=>J(o).forEach(c=>{i.insertRule(c,i.cssRules.length)})).catch(o=>{console.error("Error loading remote stylesheet",o)})),console.error("Error inlining remote css file",s)}}),Promise.all(r).then(()=>(e.forEach(a=>{if("cssRules"in a)try{b(a.cssRules||[]).forEach(s=>{n.push(s)})}catch(s){console.error(`Error while reading CSS rules from ${a.href}`,s)}}),n))}function lt(e){return e.filter(t=>t.type===CSSRule.FONT_FACE_RULE).filter(t=>ee(t.style.getPropertyValue("src")))}async function ut(e,t){if(e.ownerDocument==null)throw new Error("Provided element is not within a Document");const n=b(e.ownerDocument.styleSheets),r=await ct(n,t);return lt(r)}function re(e){return e.trim().replace(/["']/g,"")}function dt(e){const t=new Set;function n(r){(r.style.fontFamily||getComputedStyle(r).fontFamily).split(",").forEach(s=>{t.add(re(s))}),Array.from(r.children).forEach(s=>{s instanceof HTMLElement&&n(s)})}return n(e),t}async function ft(e,t){const n=await ut(e,t),r=dt(e);return(await Promise.all(n.filter(s=>r.has(re(s.style.fontFamily))).map(s=>{const i=s.parentStyleSheet?s.parentStyleSheet.href:null;return te(s.cssText,i,t)}))).join(`
`)}async function mt(e,t){const n=t.fontEmbedCSS!=null?t.fontEmbedCSS:t.skipFonts?null:await ft(e,t);if(n){const r=document.createElement("style"),a=document.createTextNode(n);r.appendChild(a),e.firstChild?e.insertBefore(r,e.firstChild):e.appendChild(r)}}async function ht(e,t={}){const{width:n,height:r}=Q(e,t),a=await _(e,t,!0);return await mt(a,t),await ne(a,t),ot(a,t),await Fe(a,n,r)}async function gt(e,t={}){const{width:n,height:r}=Q(e,t),a=await ht(e,t),s=await T(a),i=document.createElement("canvas"),o=i.getContext("2d"),c=t.pixelRatio||Te(),h=t.canvasWidth||n,y=t.canvasHeight||r;return i.width=h*c,i.height=y*c,t.skipAutoScale||_e(i),i.style.width=`${h}`,i.style.height=`${y}`,t.backgroundColor&&(o.fillStyle=t.backgroundColor,o.fillRect(0,0,i.width,i.height)),o.drawImage(s,0,0,i.width,i.height),i}async function wt(e,t={}){return(await gt(e,t)).toDataURL()}async function pt(){let e="";for(const t of Array.from(document.styleSheets))try{if(t.cssRules)for(const n of Array.from(t.cssRules))e+=n.cssText}catch{}return e}function X(e,t,n){if(e.innerHTML="",t==="markdown"){const r=we.parse(n);e.innerHTML=r,e.innerHTML=e.innerHTML.replace(/\$\$([^$]+)\$\$/g,(a,s)=>M.renderToString(s.trim(),{throwOnError:!1,displayMode:!0})),e.innerHTML=e.innerHTML.replace(/\$([^$]+)\$/g,(a,s)=>M.renderToString(s.trim(),{throwOnError:!1,displayMode:!1}))}else M.render(n,e,{throwOnError:!0,displayMode:!0})}const kt=({instanceId:e})=>{const{t,i18n:n,ready:r}=de(),a=m.useRef(e??`latex-markdown-${Date.now()}-${Math.random().toString(16).slice(2)}`),s=e??a.current,[i,o]=m.useState(`# Teorema de Pitágoras

En un triángulo rectángulo, el cuadrado de la hipotenusa es igual a la suma de los cuadrados de los catetos.

$$c = \\sqrt{a^2 + b^2}$$`);m.useEffect(()=>{const l=t("widgets.latex_markdown.sample_content");l!=="widgets.latex_markdown.sample_content"&&o(l)},[t,n.language]);const[c,h]=m.useState("markdown"),[y,E]=m.useState(""),[S,v]=m.useState(""),L=m.useRef(null),F=m.useRef(null);m.useEffect(()=>{const l=F.current;if(l)return document.body.appendChild(l),()=>{l.parentNode&&l.parentNode.removeChild(l)}},[]);const R=l=>{E(l),setTimeout(()=>E(""),1800)},se=()=>{navigator.clipboard.writeText(i).then(()=>R(t("widgets.latex_markdown.source_copied"))).catch(()=>R(t("widgets.latex_markdown.copy_failed")))},ae=async()=>{const l=L.current;if(!l)return;const f=await pt();try{const u=await wt(l,{backgroundColor:"#ffffff",fontEmbedCSS:f}),x=await(await fetch(u)).blob();await navigator.clipboard.write([new ClipboardItem({"image/png":x})]),R(t("widgets.latex_markdown.image_copied"))}catch{R(t("widgets.latex_markdown.copy_image_failed"))}},I=async()=>{const l=c==="latex"?"tex":"md",f=c==="latex"?"text/x-latex":"text/markdown",u=new Blob([i],{type:`${f};charset=utf-8`}),x=`documento.${l}`,g=await pe(x);if(!g)return;g?.destination==="file-manager"?await ye({blob:u,filename:g.filename,sourceWidgetId:"latex-markdown",sourceWidgetTitleKey:"widgets.latex_markdown.title",parentId:g.parentId}):g?.destination==="download"&&xe(u,g.filename);const P=JSON.stringify({input:i,mode:c});v(P),window.dispatchEvent(new CustomEvent("widget-save-complete",{detail:{instanceId:s,widgetId:"latex-markdown"}}))},D=async l=>{const f=await l.text(),u=l.name.toLowerCase();h(u.endsWith(".tex")?"latex":"markdown"),o(f),v(JSON.stringify({input:f,mode:u.endsWith(".tex")?"latex":"markdown"}))},ie=async()=>{const l=await be({accept:".md,.tex,.txt"});if(!l)return;if(l.source==="local"){const[g]=l.files;g&&await D(g);return}const[f]=l.entryIds;if(!f)return;const u=await U(f);if(!u?.blob)return;const x=new File([u.blob],u.name,{type:u.mime||u.blob.type});await D(x)},oe=async()=>{const l=F.current;if(!l)return;X(l,c,i);try{await document.fonts?.ready}catch{}await new Promise(u=>requestAnimationFrame(()=>u()));const f=()=>{l.innerHTML="",window.removeEventListener("afterprint",f)};window.addEventListener("afterprint",f),window.print()};return m.useEffect(()=>{const l=L.current;if(l)try{X(l,c,i)}catch(f){if(c==="latex"&&f instanceof Error){const u=t("widgets.latex_markdown.latex_mode_title"),x=t("widgets.latex_markdown.latex_mode_description"),g=t("widgets.latex_markdown.how_to_proceed"),P=t("widgets.latex_markdown.isolated_formula"),ce=t("widgets.latex_markdown.text_with_formulas"),le=t("widgets.latex_markdown.markdown");l.innerHTML=`
          <div class="friendly-error-pane">
            <h3>${u}</h3>
            <p>${x}</p>
            <h4>${g}</h4>
            <ul>
              <li>${P} <code>c = \\\\sqrt{a^2 + b^2}</code>.</li>
              <li>${ce} <strong>${le}</strong>.</li>
            </ul>
          </div>
        `}else if(f instanceof Error){const u=t("widgets.latex_markdown.latex_syntax_error");l.innerHTML=`<div class="error-message">${u} ${f.message}</div>`}else{const u=t("widgets.latex_markdown.generic_error");l.innerHTML=`<div class="error-message">${u}</div>`}}},[i,c]),m.useEffect(()=>{S||v(JSON.stringify({input:i,mode:c}))},[i,S,c]),m.useEffect(()=>fe("latex-markdown",async({entryId:f})=>{const u=await U(f);if(!u?.blob)return;const x=await u.blob.text(),g=u.name.toLowerCase();h(g.endsWith(".tex")?"latex":"markdown"),o(x),v(JSON.stringify({input:x,mode:g.endsWith(".tex")?"latex":"markdown"}))}),[]),m.useEffect(()=>{const l=JSON.stringify({input:i,mode:c}),f=S!==""&&l!==S;window.dispatchEvent(new CustomEvent("widget-dirty-state",{detail:{instanceId:s,widgetId:"latex-markdown",isDirty:f}}))},[i,S,c,s]),m.useEffect(()=>{const l=f=>{const u=f;u.detail?.instanceId===s&&(u.detail?.widgetId&&u.detail.widgetId!=="latex-markdown"||I())};return window.addEventListener("widget-save-request",l),()=>window.removeEventListener("widget-save-request",l)},[I,s]),m.useEffect(()=>()=>{window.dispatchEvent(new CustomEvent("widget-dirty-state",{detail:{instanceId:s,widgetId:"latex-markdown",isDirty:!1}}))},[s]),r?d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"latex-markdown-widget",children:[d.jsxs("div",{className:"editor-pane",children:[d.jsxs("div",{className:"mode-selector",children:[d.jsx("button",{onClick:()=>h("markdown"),className:c==="markdown"?"active":"",children:"Markdown"}),d.jsx("button",{onClick:()=>h("latex"),className:c==="latex"?"active":"",children:"LaTeX"})]}),d.jsx("textarea",{value:i,onChange:l=>o(l.target.value),spellCheck:"false",className:"editor-textarea"})]}),d.jsxs("div",{className:"preview-container",children:[d.jsxs("div",{className:"preview-toolbar",children:[y&&d.jsx("span",{className:"feedback-message",children:y}),d.jsx("button",{title:t("widgets.latex_markdown.copy_source"),onClick:se,children:d.jsx(Ce,{size:18})}),d.jsx("button",{title:t("widgets.latex_markdown.copy_image"),onClick:ae,children:d.jsx(me,{size:18})}),d.jsx("button",{title:t("widgets.latex_markdown.open_file"),onClick:ie,children:d.jsx(he,{size:18})}),d.jsx("button",{title:t("widgets.latex_markdown.save_file"),onClick:I,children:d.jsx(Se,{size:18})}),d.jsx("button",{title:t("widgets.latex_markdown.export_pdf"),onClick:oe,children:d.jsx(ge,{size:18})})]}),d.jsx("div",{className:"preview-pane prose",ref:L})]})]}),d.jsx("div",{id:"print-root",ref:F,className:"prose"})]}):d.jsx("div",{className:"flex items-center justify-center h-full",children:t("loading")})};export{kt as LatexMarkdownWidget,$t as widgetConfig};
