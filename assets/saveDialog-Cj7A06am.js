import{x as a,z as s,Q as d,L as l}from"./index-BenRa9M0.js";const r=(e,n)=>{const o=URL.createObjectURL(e),t=document.createElement("a");t.href=o,t.download=n,document.body.appendChild(t),t.click(),document.body.removeChild(t),URL.revokeObjectURL(o)},m=async e=>{const n=e.parentId??a,t=(await s(n)).filter(i=>i.type==="file"&&i.name===e.filename);t.length>0&&await Promise.all(t.map(i=>d(i.id))),await l({name:e.filename,parentId:n,blob:e.blob,mime:e.blob.type,sourceWidgetId:e.sourceWidgetId,sourceWidgetTitleKey:e.sourceWidgetTitleKey}),window.dispatchEvent(new CustomEvent("file-manager-refresh")),window.dispatchEvent(new CustomEvent("file-manager-feedback",{detail:{type:"saved",filename:e.filename}}))},w=e=>new Promise(n=>{window.dispatchEvent(new CustomEvent("save-dialog-request",{detail:{resolve:n,suggestedFilename:e}}))});export{r as d,w as r,m as s};
