import{c as M,u as y,r as n,j as t,R as C}from"./index-Ha-A2SqS.js";import{aI as D}from"./index-Ha-A2SqS.js";import{P as I}from"./pause-CG6tcWBg.js";import{P as $}from"./play-D1BM85UR.js";/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],F=M("flag",A),j=s=>{const a=Math.floor(s/6e4).toString().padStart(2,"0"),i=Math.floor(s/1e3%60).toString().padStart(2,"0"),e=Math.floor(s/10%100).toString().padStart(2,"0");return`${a}:${i}.${e}`},P=()=>{const{t:s}=y(),[a,i]=n.useState(0),[e,p]=n.useState(!1),[l,u]=n.useState([]),c=n.useRef(null),h=n.useRef(null),[m,S]=n.useState(48),f=n.useRef(48),w=Math.max(12,Math.min(26,Math.round(m*.28)));n.useEffect(()=>{if(e){const o=Date.now()-a;c.current=window.setInterval(()=>{i(Date.now()-o)},10)}else c.current&&clearInterval(c.current);return()=>{c.current&&clearInterval(c.current)}},[e,a]),n.useEffect(()=>{const o=h.current;if(!o)return;const r=()=>{const{width:R,height:N}=o.getBoundingClientRect(),b=Math.max(28,Math.min(R*.18,N*.5)),d=Math.floor(b);d!==f.current&&(f.current=d,S(d))};r();const x=new ResizeObserver(r);return x.observe(o),()=>x.disconnect()},[]);const g=()=>{p(!e)},v=()=>{p(!1),i(0),u([])},z=()=>{e&&u([a,...l])};return t.jsxs("div",{className:"stopwatch-widget",children:[t.jsx("div",{className:"time-display-container",ref:h,children:t.jsx("span",{className:"time-display-main",style:{fontSize:`${m}px`},children:j(a)})}),t.jsxs("div",{className:"controls-container",children:[t.jsxs("button",{onClick:v,className:"control-button reset",children:[t.jsx(C,{size:20}),t.jsx("span",{children:s("widgets.stopwatch.reset")})]}),t.jsxs("button",{onClick:g,className:`control-button start-stop ${e?"active":""}`,children:[e?t.jsx(I,{size:24}):t.jsx($,{size:24}),t.jsx("span",{children:s(e?"widgets.stopwatch.pause":"widgets.stopwatch.start")})]}),t.jsxs("button",{onClick:z,disabled:!e&&a===0,className:"control-button lap",children:[t.jsx(F,{size:20}),t.jsx("span",{children:s("widgets.stopwatch.lap")})]})]}),l.length>0&&t.jsx("div",{className:"laps-container",children:t.jsx("ul",{className:"laps-list",style:{fontSize:`${w}px`},children:l.map((o,r)=>t.jsxs("li",{className:"lap-item",children:[t.jsxs("span",{children:[s("widgets.stopwatch.lap")," ",l.length-r]}),t.jsx("span",{children:j(o)})]},r))})})]})};export{P as StopwatchWidget,D as widgetConfig};
