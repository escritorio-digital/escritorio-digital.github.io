import{u as m,r as i,j as e}from"./index-AkGaCXnn.js";const g=(t,n,l)=>{try{const s=new URL(t);return s.searchParams.set(l,n),s.toString()}catch{return t}},p=({url:t,titleKey:n,appendLanguageParam:l=!1,languageParamKey:s="lang",openInPopup:d=!1,autoOpen:x=!1,popupFeatures:f="noopener,noreferrer,toolbar=no,location=no,status=no,menubar=no,directories=no,scrollbars=yes,resizable=yes,width=1200,height=800"})=>{const{t:r,i18n:a}=m(),b=i.useRef(!1),u=i.useMemo(()=>{if(!l)return t;const c=(a.resolvedLanguage??a.language).split("-")[0];return g(t,c,s)},[l,a.language,a.resolvedLanguage,s,t]),o=i.useCallback(()=>{const c=window.open(u,"_blank",f);return c?(c.opener=null,!0):!1},[f,u]);return i.useEffect(()=>{!d||!x||b.current||(b.current=!0,o())},[x,d,o]),d?e.jsx("div",{className:"flex h-full w-full items-center justify-center bg-white/70 p-4",children:e.jsxs("div",{className:"w-full max-w-md rounded-2xl border border-gray-200 bg-white p-5 text-center shadow-sm",children:[e.jsx("div",{className:"text-base font-semibold text-text-dark",children:r(n)}),e.jsx("p",{className:"mt-2 text-sm text-text-muted",children:r("widgets.external_app.popup_hint")}),e.jsx("button",{type:"button",onClick:o,className:"mt-4 inline-flex items-center justify-center rounded-lg bg-accent px-4 py-2 text-sm font-semibold text-text-dark hover:bg-accent/90",children:r("widgets.external_app.popup_button")})]})}):e.jsxs("div",{className:"flex h-full w-full flex-col bg-white/70",children:[e.jsxs("div",{className:"flex items-center justify-between gap-2 border-b border-gray-200 bg-white/90 px-3 py-2",children:[e.jsx("span",{className:"text-sm font-semibold text-text-dark",children:r(n)}),e.jsx("button",{type:"button",onClick:o,className:"text-xs font-semibold text-accent hover:text-accent/80",children:r("widgets.local_web.open_fullscreen_window")})]}),e.jsx("iframe",{title:r(n),src:u,className:"h-full w-full flex-1 border-0",loading:"lazy"})]})};export{p as ExternalAppWidget};
