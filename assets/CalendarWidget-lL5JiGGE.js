import{u as N,l as v,r as i,j as n}from"./index-CmQIKd-y.js";import{m as I}from"./index-CmQIKd-y.js";import{C as w,a as F}from"./chevron-right-BfHMy29C.js";const k=()=>{const{t:d}=N(),{theme:u}=v(),[t,m]=i.useState(new Date),f=new Date(t.getFullYear(),t.getMonth(),1),x=new Date(t.getFullYear(),t.getMonth()+1,0),g=(f.getDay()+6)%7,h=x.getDate(),j=i.useMemo(()=>{const a=[];for(let e=0;e<g;e++)a.push({day:null,isPlaceholder:!0});for(let e=1;e<=h;e++){const o=new Date,r=e===o.getDate()&&t.getMonth()===o.getMonth()&&t.getFullYear()===o.getFullYear();a.push({day:e,isToday:r})}return a},[t,h,g]),y=()=>{m(new Date(t.getFullYear(),t.getMonth()-1,1))},M=()=>{m(new Date(t.getFullYear(),t.getMonth()+1,1))},D=i.useMemo(()=>{const a=u["--color-widget-bg"];if(!a)return!0;const e=a.trim().match(/^#([0-9a-f]{3}|[0-9a-f]{6})$/i);if(e){const r=e[1],s=r.length===3?r.split("").map(p=>p+p).join(""):r,l=Number.parseInt(s.slice(0,2),16),c=Number.parseInt(s.slice(2,4),16),b=Number.parseInt(s.slice(4,6),16);return(.2126*l+.7152*c+.0722*b)/255<.55}const o=a.trim().match(/^rgba?\(([^)]+)\)$/i);if(o){const r=o[1].split(",").map(s=>Number.parseFloat(s.trim()));if(r.length>=3&&r.every(s=>Number.isFinite(s))){const[s,l,c]=r;return(.2126*s+.7152*l+.0722*c)/255<.55}}return!0},[u]);return n.jsxs("div",{className:`calendar-widget ${D?"calendar-widget--dark":"calendar-widget--light"}`,children:[n.jsxs("div",{className:"calendar-header",children:[n.jsx("button",{onClick:y,className:"calendar-nav-button",children:n.jsx(w,{size:20})}),n.jsxs("h3",{className:"calendar-title",children:[(d("widgets.calendar.months",{returnObjects:!0})||["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"])[t.getMonth()]," ",t.getFullYear()]}),n.jsx("button",{onClick:M,className:"calendar-nav-button",children:n.jsx(F,{size:20})})]}),n.jsx("div",{className:"calendar-days",children:(d("widgets.calendar.days",{returnObjects:!0})||["Lu","Ma","Mi","Ju","Vi","SÃ¡","Do"]).map((a,e)=>n.jsx("span",{children:a},e))}),n.jsx("div",{className:"calendar-grid",children:j.map((a,e)=>n.jsx("div",{className:`calendar-cell ${a.isPlaceholder?"":"calendar-cell--hover"} ${a.isToday?"calendar-cell--today":""}`,children:a.day},e))})]})};export{k as CalendarWidget,I as widgetConfig};
