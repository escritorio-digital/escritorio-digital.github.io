.scientific-calculator {
    --calc-shell: linear-gradient(145deg, #f7f0e3 0%, #e5f3f4 55%, #eaf0ff 100%);
    --calc-surface: #0f172a;
    --calc-edge: rgba(255, 255, 255, 0.08);
    --calc-accent: #06b6d4;
    --calc-accent-strong: #0ea5e9;
    --calc-key: #111827;
    --calc-key-alt: #1f2937;
    --calc-key-func: #1e293b;
    --calc-key-control: #7c2d12;
    --calc-key-equals: #14b8a6;
    --calc-key-text: #e2e8f0;
    --calc-muted: #94a3b8;
    --calc-key-font: clamp(0.85rem, 1rem, 1.05rem);
    --calc-scale: 1;

    @apply w-full h-full flex items-center justify-center p-3;
    background: var(--calc-shell);
    font-family: 'Space Grotesk', 'Noto Sans', 'Helvetica Neue', sans-serif;
    color: var(--calc-key-text);
}

.scientific-calculator.is-floating {
    @apply p-0;
    background: transparent;
}

.calc-loading {
    @apply w-full h-full flex items-center justify-center text-lg font-semibold;
}

.calc-surface {
    @apply w-full h-full flex flex-col;
    background: var(--calc-surface);
    border-radius: 18px;
    border: 1px solid rgba(148, 163, 184, 0.25);
    box-shadow: 0 16px 40px rgba(15, 23, 42, 0.35);
    overflow: hidden;
}

.calc-top {
    @apply flex items-center justify-between px-4 pt-4 flex-wrap gap-2;
}

.calc-tabs {
    @apply flex gap-2 flex-wrap;
    min-width: 0;
}

.calc-tab {
    @apply uppercase tracking-wide px-3 py-2 rounded-full transition;
    border: 1px solid transparent;
    background: rgba(148, 163, 184, 0.12);
    color: var(--calc-muted);
    font-size: calc(0.7rem * var(--calc-scale));
}

.calc-tab.is-active {
    background: rgba(6, 182, 212, 0.22);
    border-color: rgba(6, 182, 212, 0.55);
    color: #e2f6ff;
}

.calc-angle {
    @apply flex items-center;
    gap: 8px;
}

.calc-angle-pill {
    @apply text-[0.65rem] font-semibold px-3 py-1 rounded-full;
    background: rgba(14, 165, 233, 0.18);
    color: #bae6fd;
    border: 1px solid rgba(14, 165, 233, 0.4);
}

.calc-floating-toggle {
    @apply text-[0.65rem] font-semibold px-3 py-1 rounded-full transition;
    background: rgba(148, 163, 184, 0.16);
    color: var(--calc-muted);
    border: 1px solid rgba(148, 163, 184, 0.25);
}

.calc-floating-toggle.is-active {
    background: rgba(6, 182, 212, 0.22);
    border-color: rgba(6, 182, 212, 0.55);
    color: #e2f6ff;
}

.calc-display {
    @apply px-5 py-4 flex flex-col gap-2;
    background: linear-gradient(180deg, rgba(15, 23, 42, 0.98), rgba(15, 23, 42, 0.75));
    border-bottom: 1px solid var(--calc-edge);
}

.calc-expression {
    @apply uppercase tracking-widest;
    min-height: 16px;
    color: var(--calc-muted);
    font-size: calc(0.65rem * var(--calc-scale));
}

.calc-result {
    @apply text-right font-semibold;
    font-variant-numeric: tabular-nums;
    word-break: break-all;
    font-size: calc(1.75rem * var(--calc-scale));
}

.calc-grid {
    @apply flex-1 grid gap-2 p-4;
}

.calc-grid--basic,
.calc-grid--standard {
    grid-template-columns: repeat(4, minmax(0, 1fr));
}

.calc-grid--scientific {
    grid-template-columns: repeat(5, minmax(0, 1fr));
}

.calc-key {
    @apply rounded-xl font-semibold transition;
    background: var(--calc-key);
    color: var(--calc-key-text);
    border: 1px solid rgba(148, 163, 184, 0.15);
    min-height: 48px;
    box-shadow: inset 0 0 0 1px rgba(15, 23, 42, 0.45);
    font-size: calc(var(--calc-key-font) * var(--calc-scale));
    line-height: 1;
}

.calc-key:hover {
    transform: translateY(-1px);
    box-shadow: 0 8px 18px rgba(15, 23, 42, 0.35);
}

.calc-key:active {
    transform: translateY(1px) scale(0.98);
}

.calc-key--digit {
    background: var(--calc-key);
}

.calc-key--operator {
    background: var(--calc-key-alt);
    color: #e0f2fe;
}

.calc-key--function,
.calc-key--constant {
    background: var(--calc-key-func);
    color: #bfdbfe;
}

.calc-key--control {
    background: var(--calc-key-control);
    color: #fde68a;
}

.calc-key--toggle {
    background: rgba(6, 182, 212, 0.25);
    color: #cffafe;
    letter-spacing: 0.05em;
}

.calc-key--equals {
    background: var(--calc-key-equals);
    color: #0f172a;
}

@media (max-width: 640px) {
    .calc-result {
        @apply text-2xl;
    }

    .calc-key {
        min-height: 42px;
    }
}
