.dice-widget {
  /* 1. Añadimos 'relative' para el posicionamiento del botón de créditos */
  @apply flex flex-col h-full p-4 text-text-dark select-none relative;
  background-color: #0a4628; /* Un fondo de tapete de juego */
  container-type: size;
  --die-size: clamp(48px, 8vw, 120px);
  --dot-size: clamp(8px, 1.6vw, 18px);
  --flat-font-size: clamp(18px, 4vw, 36px);
}

@supports (width: 1cqw) {
  .dice-widget {
    --die-size: clamp(48px, 12cqw, 140px);
    --dot-size: clamp(8px, 3cqw, 22px);
  }
}

/* ... (el resto de los estilos: .controls, .roll-button, etc. se mantienen igual) ... */

.dice-toolbar-group {
  @apply flex items-center gap-2;
}

.dice-selector {
    @apply flex items-center gap-2;
    color: #374151;
    min-width: 0;
}
.dice-selector label {
  font-size: 0.8rem;
  white-space: nowrap;
}

.dice-selector input {
  @apply w-14 text-center border border-gray-300 rounded bg-white text-gray-900;
  padding: 4px 6px;
  font-size: 0.85rem;
}

.dice-selector select {
  @apply w-14 text-center border border-gray-300 rounded bg-white text-gray-900;
  padding: 4px 6px;
  font-size: 0.85rem;
}

.dice-toolbar-button {
  @apply inline-flex items-center justify-center rounded-md p-1 text-gray-600 hover:bg-gray-200;
}

.dice-toolbar-action {
  @apply inline-flex items-center gap-2 rounded-md bg-accent px-2 py-1 text-sm font-semibold text-text-dark shadow-sm hover:bg-[#8ec9c9] disabled:opacity-60 disabled:cursor-not-allowed;
}


.dice-container {
  @apply flex-grow flex items-center justify-center gap-8 flex-wrap p-4;
  perspective: 1000px;
  gap: clamp(8px, 3cqw, 24px);
}

.dice-container.rolling {
  animation: dice-board-rumble 0.6s ease-in-out infinite;
}

.total {
    @apply text-center font-bold mt-4 text-white;
    font-size: 1.5rem;
    font-size: clamp(1rem, 4cqw, 2.4rem);
}

.total span {
    @apply text-yellow-300;
}

.total--hidden {
  visibility: hidden;
}

.die-scene {
  width: var(--die-size);
  height: var(--die-size);
}

.die-3d {
  width: 100%;
  height: 100%;
  position: relative;
  transform-style: preserve-3d;
  transition: transform var(--roll-duration, 1500ms) ease-out;
}

.die-3d.rolling {
  animation: roll-3d var(--roll-duration, 1500ms) ease-out forwards;
}

.face {
  @apply absolute w-full h-full bg-slate-100 border border-gray-400 rounded-md flex items-center justify-center;
  padding: clamp(2px, 0.6cqw, 6px);
}

.dot {
  @apply block bg-slate-800 rounded-full;
  width: var(--dot-size);
  height: var(--dot-size);
}

.face-1 { transform: rotateY(  0deg) translateZ(calc(var(--die-size) / 2)); }
.face-2 { transform: rotateY( 90deg) translateZ(calc(var(--die-size) / 2)); }
.face-3 { transform: rotateX( 90deg) translateZ(calc(var(--die-size) / 2)); }
.face-4 { transform: rotateX(-90deg) translateZ(calc(var(--die-size) / 2)); }
.face-5 { transform: rotateY(-90deg) translateZ(calc(var(--die-size) / 2)); }
.face-6 { transform: rotateY(180deg) translateZ(calc(var(--die-size) / 2)); }

.die-3d.show-1 { transform: rotateY(  0deg); }
.die-3d.show-2 { transform: rotateY(-90deg); }
.die-3d.show-3 { transform: rotateX(-90deg); }
.die-3d.show-4 { transform: rotateX( 90deg); }
.die-3d.show-5 { transform: rotateY( 90deg); }
.die-3d.show-6 { transform: rotateY(180deg); }

.die-flat {
  width: var(--die-size);
  height: var(--die-size);
  @apply flex items-center justify-center rounded-xl border border-gray-300 text-text-dark font-bold;
  background: #f8fafc;
  box-shadow: 0 8px 18px rgba(0, 0, 0, 0.2);
  font-size: var(--flat-font-size);
  letter-spacing: 0.02em;
}

.die-flat span {
  @apply drop-shadow;
}

.face {
  display: grid;
  gap: clamp(2px, 0.8cqw, 6px);
}

.face-1 { grid-template-areas: ". . ." ". a ." ". . ."; }
.face-2 { grid-template-areas: "a . ." ". . ." ". . b"; }
.face-3 { grid-template-areas: "a . ." ". b ." ". . c"; }
.face-4 { grid-template-areas: "a . b" ". . ." "c . d"; }
.face-5 { grid-template-areas: "a . b" ". c ." "d . e"; }
.face-6 { grid-template-areas: "a . b" "c . d" "e . f"; }

.face .dot:nth-child(1) { grid-area: a; }
.face .dot:nth-child(2) { grid-area: b; }
.face .dot:nth-child(3) { grid-area: c; }
.face .dot:nth-child(4) { grid-area: d; }
.face .dot:nth-child(5) { grid-area: e; }
.face .dot:nth-child(6) { grid-area: f; }


@keyframes roll-3d {
  0% { transform: rotateY(0deg) rotateX(0deg); }
  100% { transform: rotateY(1080deg) rotateX(720deg); }
}

@keyframes dice-board-rumble {
  0% { transform: translate(0, 0); }
  20% { transform: translate(-2px, 1px); }
  40% { transform: translate(2px, -1px); }
  60% { transform: translate(-1px, -2px); }
  80% { transform: translate(1px, 2px); }
  100% { transform: translate(0, 0); }
}


/* 2. Añade los estilos para el botón de atribución */
.attribution-button {
  @apply absolute bottom-2 right-2 w-6 h-6 flex items-center justify-center bg-black/20 rounded-full text-white/70 hover:bg-black/40 hover:text-white transition-colors;
  width: clamp(20px, 3.5cqw, 32px);
  height: clamp(20px, 3.5cqw, 32px);
}
.attribution-button svg {
  width: clamp(10px, 1.8cqw, 16px);
  height: clamp(10px, 1.8cqw, 16px);
}
